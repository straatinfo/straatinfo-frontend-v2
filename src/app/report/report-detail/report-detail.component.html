<div class="main-content">
  <div class="container-fluid">
    <div class="row">
      <div *appspinner="!reportData" class="col-md-12">
        <div class="card">
          <div class="card-header card-header-icon" data-background-color="blue">
            <i class="material-icons">perm_identity</i>
          </div>
          <div *ngIf="reportData" class="card-content">
            <h4 class="card-title">{{reportDetails | translation: languageString}}
            </h4>

            <form [formGroup]="reportDetailForm" (change)="setToDirty()">
              <!-- <div *ngIf="errorText" class="alert alert-danger" role="alert">
                <strong>Error!</strong> {{errorText}}
              </div>
              <div *ngIf="successText" class="alert alert-success" role="alert">
                <strong>Success!</strong> {{successText}}
              </div> -->

              <div class="col-md-6">
                <div class="input-group">
                  <span class="input-group-addon">

                  </span>
                  <div class="form-group label-floating">
                    <label class="control-label">{{hostName | translation: languageString}}</label>
                    <input formControlName="hostName" type="text" class="form-control">
                  </div>
                </div>

                <div class="input-group">
                  <span class="input-group-addon">

                  </span>
                  <div class="form-group label-floating">
                    <label class="control-label">{{reportId | translation: languageString}}</label>
                    <input formControlName="generatedReportId" type="text" class="form-control">
                  </div>
                </div>

                <div class="input-group">
                  <span class="input-group-addon">

                  </span>
                  <div class="form-group label-floating">
                    <label class="control-label">{{description | translation: languageString}}</label>
                    <input formControlName="description" type="text" class="form-control">
                  </div>
                </div>

                <div class="input-group">
                  <span class="input-group-addon">

                  </span>
                  <div class="form-group label-floating">
                    <label class="control-label">{{chatName | translation: languageString}}</label>
                    <input formControlName="_reporterUsername" type="text" class="form-control">
                  </div>
                </div>

                <div class="input-group">
                  <span class="input-group-addon">

                  </span>
                  <div class="form-group label-floating">
                    <label class="control-label">{{teamName | translation: languageString}}</label>
                    <input formControlName="_teamName" type="text" class="form-control">
                  </div>
                </div>

                <div class="input-group">
                  <span class="input-group-addon">

                  </span>
                  <div class="form-group label-floating">
                    <label class="control-label">{{dateReported | translation: languageString}}</label>
                    <input formControlName="dateReported" type="text" class="form-control">
                  </div>
                </div>

                <div class="input-group">
                  <span class="input-group-addon">

                  </span>
                  <div class="form-group label-floating">
                    <label class="control-label">{{publicIdNumber | translation: languageString}}</label>
                    <input formControlName="reportType" type="text" class="form-control">
                  </div>
                </div>

                <div class="input-group">
                  <span class="input-group-addon">

                  </span>
                  <div class="form-group label-floating">
                    <label class="control-label">{{mainCategory | translation: languageString}}</label>
                    <input formControlName="mainCategory" type="text" class="form-control">
                  </div>
                </div>

                <div class="input-group">
                  <span class="input-group-addon">

                  </span>
                  <div class="form-group label-floating">
                    <label class="control-label">{{subCategory | translation: languageString}}</label>
                    <input formControlName="subCategory" type="text" class="form-control">
                  </div>
                </div>

                <div class="input-group">
                  <span class="input-group-addon">

                  </span>
                  <div class="form-group label-floating">
                    <label class="control-label">{{location | translation: languageString}}</label>
                    <input formControlName="location" type="text" class="form-control">
                  </div>
                </div>

                <div class="input-group">
                  <span class="input-group-addon">

                  </span>
                  <div class="form-group label-floating">
                    <label class="control-label">{{longitude | translation: languageString}}</label>
                    <input formControlName="long" type="text" class="form-control">
                  </div>
                </div>

                <div class="input-group">
                  <span class="input-group-addon">

                  </span>
                  <div class="form-group label-floating">
                    <label class="control-label">{{latitude | translation: languageString}}</label>
                    <input formControlName="lat" type="text" class="form-control">
                  </div>
                </div>
              </div>

              <div class="col-md-6">
                <!-- this button is for Public users -->
                <button *ngIf="isPublic" (click)="onLogin()" class="btn btn-block btn-info">Login</button>
                <div *ngIf="!isHost || isPublic" class="input-group">
                  <span class="input-group-addon">

                  </span>
                  <div class="checkbox">
                    <label>
                      <input formControlName="isVehicleInvolved" type="checkbox" name="optionsIsVehicleInvolved"> {{isVehicleInvolved | translation: languageString}}?
                    </label>
                  </div>
                </div>

                <div *ngIf="!isHost || !isPublic" class="input-group">
                  <span class="input-group-addon">

                  </span>
                  <div class="form-group label-floating">
                    <label class="control-label">{{vehicleInvolvedDescription | translation: languageString}}</label>
                    <input formControlName="vehicleInvolvedDescription" type="text" class="form-control">
                  </div>
                </div>

                <div *ngIf="!isHost" class="input-group">
                  <span class="input-group-addon">

                  </span>
                  <div class="checkbox">
                    <label>
                      <input formControlName="isPeopleInvolved" type="checkbox" name="optionsIsPeopleInvolved"> {{isPeopleInvolved | translation: languageString}}?
                    </label>
                  </div>
                </div>

                <div *ngIf="!isHost && isPublic" class="input-group">
                  <span class="input-group-addon">

                  </span>
                  <div class="form-group label-floating">
                    <label class="control-label">{{peopleInvolvedCount | translation: languageString}}</label>
                    <input formControlName="peopleInvolvedCount" type="number" class="form-control">
                  </div>
                </div>
                <div *ngIf="isPublic" class="input-group">
                  <span class="input-group-addon">

                  </span>
                  <div class="form-group label-floating">
                    <label class="control-label">{{status | translation: languageString}}</label>
                    <input formControlName="status" type="text" class="form-control">
                  </div>
                </div>
                <div *ngIf="isPublic" class="input-group">
                  <span class="input-group-addon">

                  </span>
                  <div class="form-group label-floating">
                    <label class="control-label">{{causeOfFinished | translation: languageString}}</label>
                    <input formControlName="causeOfFinished" type="text" class="form-control">
                  </div>
                </div>

                <app-media-viewer-v1 *ngIf="isHost || isPublic" [reportId]="_report" width="400" height="300"></app-media-viewer-v1>

                <div *ngIf="!isPublic" class="update">
                  <div class="update-loading">
                    <div class="spin">

                    </div>
                  </div>
                  <div>
                    <legend>{{updateReportHere | translation: languageString}}</legend>
                    <span *appLoadingBar="(reportSpinner | async)"></span>
                    <div class="input-group">
                      <span class="input-group-addon">

                      </span>
                      <div class="form-group label-floating">
                        <label class="control-label">Note</label>
                        <input formControlName="note" type="text" class="form-control">
                      </div>
                    </div>

                    <div class="input-group">
                      <span class="input-group-addon">

                      </span>
                      <mat-form-field (change)="setToDirty()" style="width:100% !important;" ngClass="form-group label-floating">
                        <mat-select [disabled]="statusDisabled" placeholder="Status" formControlName="status">
                          <mat-option value="NEW">{{new | translation: languageString}}</mat-option>
                          <mat-option value="INPROGRESS">{{inProgress | translation: languageString}}</mat-option>
                          <mat-option value="DONE">{{done | translation: languageString}}</mat-option>
                          <mat-option *ngIf="statusDisabled" value="EXPIRED">{{expired | translation}}</mat-option>
                        </mat-select>
                      </mat-form-field>
                    </div>
                    <button (click)="onBack()" type="button" class="btn btn-default">{{checkAllYourReports | translation: languageString}}</button>
                    <button [disabled]="statusDisabled" (click)="onUpdate()" type="button" class="btn btn-rose">{{updateReport | translation: languageString}}</button>
                  </div>
                </div>
              </div>

              <!-- <div class="col-md-2">
                <div class="row">
                  <button (click)="onBack()" type="button" class="btn btn-default btn-block">Back</button>
                  <button (click)="onUpdate()" type="button" class="btn btn-rose btn-block">Update Report</button>
                  <button (click)="onDelete()" type="button" class="btn btn-danger btn-block">Delete Report</button>
                </div>
              </div> -->

              <div class="col-md-12">
                <h4>
                  <b>Location: {{reportDetailForm.value.location}}</b>
                </h4>
                <agm-map [latitude]="lat" [longitude]="long" [zoom]="17">
                  <agm-marker [latitude]="lat" [longitude]="long"></agm-marker>
                </agm-map>
              </div>

              <div class="clearfix"></div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
